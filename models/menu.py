# File: models/menu.py
# -*- coding: utf-8 -*-
"""
This module defines the navigation menu for the application.
Menu items are rendered dynamically based on the user's authentication status.
"""

from gluon import URL, current
# Retrieve T from the current global environment.
T = current.T

# Define URLS
url_index = URL("default", "index")
url_manage_equipment = URL("equipment", "manage_equipment")
url_map = URL("equipment", "map")
url_manage_maintenance = URL("events", "manage_maintenance")
url_calendar_view = URL("events", "calendar_view")
url_manage_alerts = URL("default", "manage_alerts")
url_manage_attachments = URL("default", "manage_attachments")
url_add_sample_data = URL("admin_tools", "add_sample_data")
url_manage_settings = URL("settings", "manage_settings")

def get_menu():
    """Generates the navigation menu based on authentication status."""

    menu = [
        ("Overview", False, url_index, []),
        ("Map", False, url_map, []),
        ("Maintenance", False, "#", [
            ("Equipment", False, url_manage_equipment),
            ("Calendar", False, url_calendar_view),
            ("Alerts", False, url_manage_alerts)
        ])
    ]

    return menu

response.menu = get_menu()
